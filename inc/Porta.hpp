#ifndef PORTA_HPP_
#define PORTA_HPP_

/*=================================================================//
 * Includes
//=================================================================*/

#include <thread>         // std::thread
#include <mutex>          // std::mutex
#include <condition_variable> // std::condition_variable
#include <vector>

#include "Utility.h"

/*=================================================================//
 * Definicao da Classe
//=================================================================*/

class Porta
//-----------------------------------------------------------------//
{
public:
    /*---------------------------------------------------------//
    * construtor WIP
    //---------------------------------------------------------*/
    Porta();

    /*---------------------------------------------------------//
    * destrutor WIP
    //---------------------------------------------------------*/
    ~Porta();

    /*---------------------------------------------------------//
    * estado_andar WIP
    //---------------------------------------------------------*/
    void abrir(int num);

    /*---------------------------------------------------------//
    * estado_andar WIP
    //---------------------------------------------------------*/
    void fechar();

    /*---------------------------------------------------------//
    * estado_andar WIP
    //---------------------------------------------------------*/
    void esperaPorta(int num);

//-----------------------------------------------------------------// 
private:
    
    /*---------------------------------------------------------//
    * ATRIBUTOS 
    //---------------------------------------------------------*/
    bool aberta;
    
    std::mutex mutexPorta;
    std::vector<std::unique_ptr<std::condition_variable>> portasCondsPtrs;
    std::condition_variable portaQualquerAberta;
//-----------------------------------------------------------------//
};


#endif